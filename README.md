# Schematics API SDK testing tool

Let's share the purpose of the tool in the form of a story: Schematics team has developed around 250 APIs to communicate with various IBM Cloud services. These 250 APIs contains description, requests, responses, error handling codes, and sample examples to support the requests and response. The sample examples are with the requests and response syntax supports multiple languages such as Curl, Go, Java, Node, Python.

Interesting part is generating samples example to support multiple languages is the sample examples codes are autogenerated by using a tool. The Schematics team tests and executes each API that are generated for all the 250 APIs and publishes the examples to the end users.

## Requirement

Now, the requirement is to retest all the 250 APIs with the request and response to maintain th quality of the API examples. Retesting each of the API by copying the generated code takes enormous resource time. to overcome the development and resource time. You need to create a script to use the generated code from the geenrated API code file and perform the test in one go.

Sample generated example files for multiple languages are located [here](/data/input)

## Scenario

Testing the example code snippets by building individual test cases for API docs in all 4 multiple languages like Go, Python, Java and Node respectively. Testing can be built on basis of taking example code snippets and execute them in different models like web application or automation test suits.

Building test web application covers all the example code snippets using any backend language or script language covering the published in one API Docs. 

The Web application would have all the relevant test examples build on similar domain For example: Node, Python, Java and Go. Application would be in a responsive method passing the required parameter and covering the maximum results with compare to API Docs. This method of testing requires valid input / output parameters to execute all the example code relevant to multiple API’s following with their dependency. 

If you create workspace a workspace ID is created, and use the workspace ID as input to get or update or delete workspace details. Once all the CRUD of an API executes successfully through the relevant application language. This should a step by step process where all the APIs example code can be retrieved automatically and execute the API examples.

The entire web application would be an automation test suites that run the API examples and it should be an covering examples of all languages and returns response.

## Design flow and scope

![High level design flow](/doc/images/workflow.png)

## Implementation scope

### MVP-1
1. Snippet Extractor: Extract Python code snippet
2. Test Generator:  Use a generator-template for Python
   -  to prepare the input-data (replace the placeholders)
   - to embed the “request code” 
   - to prepare the response-data (replace the placeholders)
   -  to embed the ”response-code”
   - to validate the response-data
3. Test Runner: Run the generated test code, and 
   - publish results in a Git repository 
   - notify the test outcome in Slack

### MVP-2
1. Snippet Extractor: Extract Node code snippet
2. Test Generator:  Use a generator-template for Node
3. Test Runner: Run the generated test code

### MVP-3
1. Snippet Extractor: Extract Go code snippet
2. Test Generator:  Use a generator-template for Go
3. Test Runner: Run the generated test code

### MVP-4
1. Snippet Extractor: Extract Java code snippet
2. Test Generator:  Use a generator-template for Java
3. Test Runner: Run the generated test code

### MVP-5
1. Snippet Extractor: Extract code snippet from any Cloud API
2. Test Generator:  Use a generator-template for any Cloud API
3. Test Runner: Run the generated test code

## Estimated Time to Delivery

1. MVP-1: February 7th (Soumya raj)
2. MVP-2: February 7th (Sundeep)
3. MVP-3: February 21st (asked for resource)
4. MVP-4: March 8th (asked for resource)

## Demo/review

1. MVP-1: January 28th  (Soumya raj)
2. MVP-2: February 3rd (Sundeep)
3. MVP-3: February 10th and March 17th
4. MVP-4: February 23rd  and March 4th
5. Project closure: 2022 Q1

## Contact 

Contact the authors of the tool:

- Geetha Sathyamurthy (geetha_sathyamurthy@in.ibm.com)
- Sundeep Mulampaka (smulampaka@ibm.com)
- Soumyaraj Biswal (soumyaraj.biswal@.ibm.com)

### Subject Matter Experts

Subject Matter Experts for the tool:

- Srikar Uppadda(srikar.uppada@in.ibm.com)
- Albee Jhoney (albee.jhoney@in.ibm.com)

### Implementaion, issues and future work

1. [Python](/doc/python.md)